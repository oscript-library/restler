# restler

Помощник работы с различными RestAPI (включая OData-1C)

# Назначение

Более удобная работа с JSON API, инкапсулирующая HTTPЗапросы и Ответы в вызовы методов.

```bsl

Клиент = Новый КлиентВебAPI();
Клиент.ИспользоватьСоединение(httpСоединениеСНастроеннойАвторизациейСертификатамиETC");
ИнформацияОПродажах = Клиент.Получить("sales/totals");

Для Каждого Инфо Из ИнформацияОПродажах Цикл
  Сообщить(СтрШаблон("Продано товара %1 на сумму %2", Инфо["nomenclature"], Инфо["sum"]));
КонецЦикла;

```

и удобный формат работы c OData, базирующейся на объекте `КлиентВебAPI`


```bsl
Система = Новый СистемнаяИнформация().ПеременныеСреды();
ПользовательИмеющийДоступКODATA = Система.Получить("ODATAUser");
ПарольПользователяДоступКODATA = Система.Получить("ODATAPass");
ИмяБазыОпубликованнойНаWebСервере = "erp-prod";

СоединениеERP = Новый HTTPСоединение("http://1c-server.example.local",, ПользовательИмеющийДоступКODATA, ПарольПользователяДоступКODATA);

КлиентERP = Новый КлиенOData();
КлиентERP.ИспользоватьСоединениеИнформационнойБазы(СоединениеERP, ИмяБазыОпубликованнойНаWebСервере);

ДокументМенеджерЗаказПокупателя = КлиентERP.Документ("ЗаказПокупателя");
ЗаказыПокупателей = ДокументМенеджерЗаказПокупателя.ПолучитьВсе();
	
Для Каждого Заказ Из ЗаказыПокупателей Цикл

		Сообщить(СтрШаблон("Заказ %1 - на сумму %2", Заказ["Number"], Заказ["СуммаДокумента"]), СтатусСообщения.Важное);
		
    Контрагент = КлиентERP.Справочник("Контрагенты").ПолучитьСсылку(Заказ["Контрагент_Key"]);
		
		Сообщить(СтрШаблон("Контрагент %1 - вида %2", Контрагент["Description"], Контрагент["ВидКонтрагента"]), СтатусСообщения.Важное);

КонецЦикла;

```

## Disclaimer

Активная стадия разработки. Наброски превращаются в пилотирование функциональности
